<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/** @var \Magento\Wishlist\Block\Catalog\Product\View\AddTo\Wishlist $block */
?>

<?php
$helper = $this->helper('Mydreamday\Wishlist\Helper\Data');
$productId = $block->getProduct()->getId();
$isInWishlist = $helper->isProductInWishlist($productId);
?>

<?php if ($block->isWishListAllowed()) : ?>
    <?php $iconClass = $isInWishlist ? 'in-wishlist' : ''; ?>
    <a href="#"
       class="action towishlist <?= $iconClass ?>"
       data-post='<?= /* @noEscape */ $block->getWishlistParams() ?>'
       data-action="add-to-wishlist">
       <span>
           <?= $isInWishlist ? $block->escapeHtml(__('Added to Wish List')) : $block->escapeHtml(__('Add to Wish List')) ?>
       </span>
    </a>
<?php endif; ?>

<script type="text/x-magento-init">
    {
        "body": {
            "addToWishlist": <?= /* @noEscape */ $block->getWishlistOptionsJson() ?>
        }
    }
</script>